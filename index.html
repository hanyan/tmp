<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		
		<p><button onclick="connectVolt()">Connect volt</button></p>
		<p><button onclick="disconnectVolt()">disConnect volt</button></p>
		<p><button onclick="getInfo()">get Account info</button></p>
		<p><button onclick="signtx()">signtx</button></p>
		<p><button onclick="getDepositAddress()">get deposit address</button></p>
		<p><button onclick="getChangeAddress()">get change address</button></p>
		<p><button onclick="transfer()">transfer</button></p>
		<p><button onclick="getBsvBalance()">get bsv balance</button></p>
		<p><button onclick="getSensibleFtBalance()">get sensible ft balance</button></p>
		<script>
			function connectVolt() {
				console.log('connect volt');
				window._volt_javascript_bridge.postMessage(
				  JSON.stringify({
				    method: "volt.bsv.connectAccount",
				    param: {
				      token_map_id: 1,
				    },
				    callback: "connectCallback",
				  })
				);
			}
			function disconnectVolt() {
				cosole.log('disconnect volt');
				window._volt_javascript_bridge.postMessage(
				  JSON.stringify({
				    method: "volt.bsv.disconnectAccount",
				    param: {
				    },
				    callback: "disconnectCallback",
				  })
				);
			}
			function getInfo() {
				console.log('account info');
				window._volt_javascript_bridge.postMessage(
				  JSON.stringify({
				    method: "volt.bsv.getAccountInfo",
				    param: {
				    },
				    callback: "infoCallback",
				  })
				);
			}
			function signtx() {
				cosole.log('signTx');
				window._volt_javascript_bridge.postMessage(
				  JSON.stringify({
				    method: "volt.bsv.signTx",
				    param: {
						list: [{txHex: '', scriptHex: '', address: '', inputIndex: 0, satoshis: 32, sigtype: 0}]
				    },
				    callback: "signCallback",
				  })
				);
			}
			function getDepositAddress() {
				console.log('deposit address');
				window._volt_javascript_bridge.postMessage(
				  JSON.stringify({
				    method: "volt.bsv.getDepositAddress",
				    param: {
				    },
				    callback: "depositCallback",
				  })
				);
			}
			function getChangeAddress() {
				cosole.log('change address');
				window._volt_javascript_bridge.postMessage(
				  JSON.stringify({
				    method: "volt.bsv.getChangeAddress",
				    param: {
				    },
				    callback: "changeCallback",
				  })
				);
			}
			function transfer() {
				console.log('connect volt');
				window._volt_javascript_bridge.postMessage(
				  JSON.stringify({
				    method: "volt.bsv.transfer",
				    param: {
				    },
				    callback: "transferCallback",
				  })
				);
			}
			function getBsvBalance() {
				cosole.log('change address');
				window._volt_javascript_bridge.postMessage(
				  JSON.stringify({
				    method: "volt.bsv.getBsvBalance",
				    param: {
				    },
				    callback: "bsvBalanceCallback",
				  })
				);
			}
			function getSensibleFtBalance() {
				console.log('sensible ft balance');
				window._volt_javascript_bridge.postMessage(
				  JSON.stringify({
				    method: "volt.bsv.getSensibleFtBalance",
				    param: {
				    },
				    callback: "ftBalanceCallback",
				  })
				);
			}
			function callback(result, errMsg) {
			  if (errMsg === "") {
			    console.log("调用成功", result);
			  } else {
			    console.log("调用失败, 错误信息", errMsg);
			  }
			};
			window.connectCallback = callback
			window.disconnectCallback = callback
			window.infoCallback = callback
			window.signCallback = callback
			window.depositCallback = callback
			window.changeCallback = callback
			window.transferCallback = callback
			window.bsvBalanceCallback = callback
			window.ftBalanceCallback = callback
			
			
			window._volt_javascript_bridge = window._volt_javascript_bridge || {
			  postMessage: (...args) => console.log(args),
			};
			
		</script>
	</body>
</html>
